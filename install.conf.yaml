- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

- link:
    ~/.config/Code/User/settings.json: vscode/settings.json
    ~/.config/nvim/init.vim: vim/.vimrc
    ~/.direnvrc: direnv/.direnvrc
    ~/.gdbinit: gdb/.gdbinit
    ~/.gdb_colorize.py: gdb/.gdb_colorize.py
    ~/.tmux.conf: tmux/.tmux.conf
    ~/.urlview: urlview/.urlview
    ~/.vimrc: vim/.vimrc
    ~/.zshrc: zsh/.zshrc
    ~/.local/bin/diff-so-fancy: modules/diff-so-fancy/third_party/build_fatpack/diff-so-fancy

- shell:
    - which sudo || apt install sudo -y
    - which curl || sudo apt install -y curl
    - which nvim || sudo apt install -y neovim
    - which urlview || sudo apt install -y urlview
    - ls ~/.tmux/plugins/tpm || git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

    # TODO below command doesn't work as-is
    - which cargo || bash <(curl https://sh.rustup.rs -sSf) -y
    - which alacritty || (sudo apt install -y cmake libfreetype6-dev libfontconfig1-dev xclip && cargo install --git https://github.com/jwilm/alacritty)
